import streamlit as st

# 星座数据库
constellations = {
    "白羊座": "近期可能会有意外惊喜，适合主动出击，展现个人魅力。",
    "金牛座": "财运稳定增长，适合进行长期投资规划，但需注意人际关系。",
    "双子座": "思维活跃，适合学习新知识或开展新项目，社交活动增多。",
    "巨蟹座": "家庭关系和睦，但需注意调节情绪，避免过度敏感。",
    "狮子座": "事业上有机会展现才华，获得认可，但需注意别太自我中心。",
    "处女座": "适合处理繁琐事务，工作效率高，但容易给自己压力过大。",
    "天秤座": "人际关系融洽，可能会有浪漫际遇，需注意在抉择时别犹豫不决。",
    "天蝎座": "近期会有深刻的自我反思，适合挖掘潜力，但要避免猜疑过度。",
    "射手座": "适合旅行或学习新技能，拓展视野，可能会有意外的学习机会。",
    "摩羯座": "事业上会有稳步进展，适合制定长期目标，但需注意劳逸结合。",
    "水瓶座": "灵感迸发，适合创新项目或团队合作，但可能会有些特立独行。",
    "双鱼座": "艺术灵感涌现，适合创作或表达情感，但需注意别过于幻想。"
}

# MBTI数据库
mbti_types = {
    "ISTJ": "适合处理复杂任务，工作效率高，但可能会因过于固执错过新机会。",
    "ISFJ": "人际关系良好，适合帮助他人，但需注意别过度牺牲自己。",
    "INFJ": "灵感丰富，适合创作或策划，但可能会因追求完美而拖延。",
    "INTJ": "适合进行深入研究或规划，可能会有突破性的想法。",
    "ISTP": "适合处理实际问题，可能会有意外的冒险机会。",
    "ISFP": "艺术灵感涌现，适合表达自我，但需注意别过于情绪化。",
    "INFP": "适合思考人生方向，可能会有新的感悟，但需注意别过于空想。",
    "INTP": "适合学习新知识或研究新领域，可能会有意外的发现。",
    "ESTP": "适合参与社交活动或竞争，可能会有意外的机遇。",
    "ESFP": "社交活动丰富，可能会有浪漫际遇，但需注意别过于冲动。",
    "ENFP": "适合开展新项目或合作，可能会有新的人脉资源。",
    "ENTP": "适合参与讨论或竞争，可能会有新的想法或机会。",
    "ESTJ": "适合领导团队或处理事务，可能会有晋升机会。",
    "ESFJ": "人际关系良好，适合协调或帮助他人，但需注意别过于迁就。",
    "ENFJ": "适合领导团队或组织活动，可能会获得他人认可。",
    "ENTJ": "适合制定战略或领导团队，可能会有重要的决策要做。"
}

# 年龄分类运势
age_fortunes = {
    "少年": "学习方面会有新的突破，可能会遇到良师益友。",
    "青年": "事业和爱情都有发展机会，要勇敢追求自己的目标。",
    "中年": "事业稳定，家庭幸福，但需注意身体健康。",
    "老年": "享受生活，安度晚年，可能会有一些回忆涌上心头。"
}

# 主程序
def main():
    st.title("🌟 运势分析系统 🌟")
    st.write("基于星座、MBTI和年龄的运势分析")
    
    with st.form("analysis_form"):
        col1, col2 = st.columns(2)
        
        with col1:
            constellation = st.selectbox("你的星座是", list(constellations.keys()))
            mbti = st.selectbox("你的MBTI类型是", list(mbti_types.keys()))
            
        with col2:
            age = st.slider("你的年龄", 0, 100, 25)
            if age < 18:
                age_group = "少年"
            elif age < 35:
                age_group = "青年"
            elif age < 60:
                age_group = "中年"
            else:
                age_group = "老年"
        
        submitted = st.form_submit_button("开始分析")
        
        if submitted:
            st.subheader("🔮 运势预测 🔮")
            st.write(f"**星座运势**：{constellations[constellation]}")
            st.write(f"**MBTI 运势**：{mbti_types[mbti]}")
            st.write(f"**年龄运势**：{age_fortunes[age_group]}")

if __name__ == "__main__":
    main()
